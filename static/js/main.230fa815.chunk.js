(this.webpackJsonpmynews=this.webpackJsonpmynews||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),o=a.n(c),s=a(1),i=a.n(s),l=a(3),u=a(2);var m=function(e){var t=e.onChangeCategory,a=e.onChangeCounty,n=e.country,c=e.categoryD;return r.a.createElement("nav",{className:"nav-list"},r.a.createElement("h1",{className:"nav-title"},"My News"),r.a.createElement("div",{className:"nav-hamburger"},r.a.createElement("span",{className:"bar"}),r.a.createElement("span",{className:"bar"}),r.a.createElement("span",{className:"bar"})),r.a.createElement("div",{className:"nav-items"},r.a.createElement("div",{className:"nav-item-county"},r.a.createElement("h3",{className:"nav-item-title"},"\u570b\u5bb6"),r.a.createElement("div",{className:"county-list"},r.a.createElement("input",{type:"button",className:"tw"===n?"active":"",value:"Taiwan",onClick:function(){return a("tw")}}),r.a.createElement("input",{type:"button",value:"USA",className:"us"===n?"active":"",onClick:function(){return a("us")}}))),r.a.createElement("div",{className:"nav-item-category"},r.a.createElement("h3",{className:"nav-item-title"},"\u985e\u5225"),r.a.createElement("div",{className:"category-list"},["business","entertainment","general","health","science","sports","technology"].map((function(e,a){return r.a.createElement("button",{key:a,className:c===e?"active":"",onClick:function(){return t(e)}},e)}))))))};var f=function(e){var t=e.keyword,a=e.setKeyword,n=e.handleSearchKeyWord;return r.a.createElement("form",{className:"searchbox",onSubmit:function(e){return n(e)}},r.a.createElement("div",{className:"searchbox-search"},r.a.createElement("input",{id:"searchbox-input",className:"searchbox-input",type:"text",value:t,onChange:function(e){return a(e.target.value)},required:!0}),r.a.createElement("label",{htmlFor:"searchbox-input",className:"searchbox-input-label"},r.a.createElement("span",{className:"searchbox-input-label-name"},"\u95dc\u9375\u5b57"))),r.a.createElement("input",{className:"searchbox-btn",type:"button",value:"\u641c\u5c0b",onClick:n}))};var p=function(e){var t=e.news,a=e.isLoading;return r.a.createElement("ul",{className:"news-list"},a?r.a.createElement("div",null,r.a.createElement("h3",null,"Loading ",r.a.createElement("i",{className:"fas fa-spinner fa-fw fa-spin"}))):0===t.length?r.a.createElement("div",null,r.a.createElement("h3",null,r.a.createElement("i",{className:"fas fa-exclamation-triangle fa-fw"}),"....\u6c92\u6709\u7b26\u5408\u7684\u65b0\u805e,\u8acb\u91cd\u65b0\u641c\u5c0b ")):t.map((function(e,t){var a={backgroundImage:"url(".concat(e.urlToImage,")"),backgroundPosition:"center",backgroundSize:"cover"};return r.a.createElement("li",{className:"news-self",key:t},r.a.createElement("h3",{className:"news-title"},"    ",e.title),r.a.createElement("div",{className:"news-image",style:a}),r.a.createElement("p",{className:"news-author"},e.author,"  ",e.publishedAt),r.a.createElement("p",{className:"news-content"},e.description),r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},"More..."))})))};var v=function(e){var t=e.pages,a=e.setPage,n=e.pageD,c=e.isLoading;return r.a.createElement("ul",{className:"pages"},c?"":t.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("button",{className:n===e?"active":"",onClick:function(){return a(e)}},e))})))};a(12);var h=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),s=Object(u.a)(o,2),h=s[0],d=s[1],b=Object(n.useState)("tw"),g=Object(u.a)(b,2),w=g[0],E=g[1],y=Object(n.useState)(!1),N=Object(u.a)(y,2),k=N[0],j=N[1],O=Object(n.useState)(""),x=Object(u.a)(O,2),C=x[0],S=x[1],W=Object(n.useState)([]),A=Object(u.a)(W,2),K=A[0],L=A[1],D=Object(n.useState)(1),P=Object(u.a)(D,2),T=P[0],U=P[1];Object(n.useEffect)((function(){I(w)}),[w]);var I=function(){var e=Object(l.a)(i.a.mark((function e(t,a,n){var r,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),r="",a||(r="https://newsapi.org/v2/top-headlines?country=".concat(t,"&apiKey=9feb9ff5c6cf4b2d9597ba6479ce77b1")),a&&(r="https://newsapi.org/v2/top-headlines?country=".concat(w,"&category=").concat(a,"&apiKey=9feb9ff5c6cf4b2d9597ba6479ce77b1")),n&&(r="https://newsapi.org/v2/top-headlines?country=".concat(w,"&q=").concat(n,"&apiKey=9feb9ff5c6cf4b2d9597ba6479ce77b1")),console.log(r),e.next=8,fetch(r);case 8:return c=e.sent,e.next=11,c.json();case 11:o=e.sent,j(!1),console.log(o),d(o.articles),M(o.articles);case 16:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),M=function(e){for(var t=e.length/4,a=[],n=1;n<t;n++)a.push(n);L(a)},R=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w!==t&&(E(t),S(""),I(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C!==t&&(S(t),I(w,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),I(w,a),c("");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=h.slice(5*T-5,5*T-1);return r.a.createElement("div",{div:!0,className:"App"},r.a.createElement(m,{categoryD:C,onChangeCategory:q,onChangeCounty:R,country:w}),r.a.createElement("main",{className:"main-news"},r.a.createElement(f,{keyword:a,setKeyword:c,handleSearchKeyWord:B}),r.a.createElement(p,{news:J,isLoading:k})),r.a.createElement(v,{isLoading:k,pageD:T,pages:K,setPage:U}))},d=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function b(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/news-web",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/news-web","/service-worker.js");d?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):b(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):b(t,e)}))}}()},6:function(e,t,a){e.exports=a(13)}},[[6,1,2]]]);
//# sourceMappingURL=main.230fa815.chunk.js.map